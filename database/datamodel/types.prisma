# User that logins to the App
type User {
  id: ID! @id
  email: String @unique
  name: String
  phone_number: [PhoneNumber]
  user_type: UserType! @default(value: CONSUMER) # or user Role
  reviews: [Review!]!
  photos: [UserPhoto!]!
  # firebase UID
  uid: String! @unique
}

type PhoneNumber {
  id: ID! @id
  user: User!
  code: String! @default(value: "+91")
  phone: String!
}

# Product on the app
type Product {
  id: ID! @id
  name: String!
  url: String!
  # location: Location!
  thumb: String! @default(value: "https://picsum.photos/g/50/50")
  featured_image: String! @default(value: "https://picsum.photos/g/250/250")
  photos_url: String! @default(value: "https://picsum.photos/g/250/250")
  user_rating: ProductRating!
  has_online_delivery: Boolean! @default(value: false)
  is_delivering_now: Boolean! @default(value: false)
  deeplink: String
  photo_count: Int!
  photos: [ProductPhoto!]!
  all_reviews: [Review!]!
}

# type Location {
# 	id: ID! @unique
# 	address: String!
# 	locality: String!
# 	city: String!
# 	latitude: Float!
# 	longitude: Float!
# 	zipcode: String!
# 	country_id: String!
# }

# accumulated rating of product
type ProductRating {
  id: ID! @id
  aggregate_rating: Float! @default(value: 0.0)
  votes: Int! @default(value: 0)
}

type Review {
  user: User!
  product: Product!
  id: ID! @id
  rating: Int!
  review_text: String!
  review_time_friendly: String!
  timestamp: Int!
}

type ProductPhoto {
  id: ID! @id
  product: Product!
  url: String!
  thumb_url: String!
  caption: String!
  timestamp: Int!
  friendly_time: String!
  width: Int!
  height: Int!
}

type UserPhoto {
  id: ID! @id
  user: User!
  url: String!
  thumb_url: String!
  caption: String!
  timestamp: Int!
  friendly_time: String!
  width: Int!
  height: Int!
}
